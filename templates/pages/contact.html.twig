{% extends 'base.html.twig' %}

{% block title %}Contact - WebDesignPro{% endblock %}

{% block body %}
<div data-controller="scroll-animation">
    <section class="page-hero">
        <div class="page-hero-inner">
            <h1 class="page-hero-title swiss-fade-up" data-scroll-animation-target="item">Démarrons votre projet</h1>
            <p class="page-hero-description swiss-fade-up" data-scroll-animation-target="item" data-delay="100">
                Remplissez le formulaire ci-dessous et recevez une réponse personnalisée sous 24h
            </p>
        </div>
    </section>

    <section class="contact-section">
        <div class="contact-container">
            <div class="contact-form-wrapper swiss-fade-up" data-scroll-animation-target="item" data-delay="200">
                {% for message in app.flashes('success') %}
                    {% if message == 'contact_sent' %}
                    <div class="contact-success">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                            <polyline points="22 4 12 14.01 9 11.01"/>
                        </svg>
                        <h3>Message envoyé avec succès !</h3>
                        <p>Merci pour votre message. Nous vous répondrons sous 24h ouvrées.</p>
                        <a href="{{ path('app_home') }}" class="btn-contact-submit">Retour à l'accueil</a>
                    </div>
                    {% endif %}
                {% else %}
                <form class="contact-form" method="post" action="{{ path('app_contact') }}" onsubmit="this.querySelector('button[type=submit]').disabled = true; this.querySelector('button[type=submit]').innerHTML = 'Envoi en cours...'">
                    <div class="form-group">
                        <label for="name">Nom complet *</label>
                        <input type="text" id="name" name="name" placeholder="Votre nom" required>
                    </div>

                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" placeholder="votre@email.com" required>
                    </div>

                    <div class="form-group" data-controller="custom-select">
                        <label for="project_type">Type de projet *</label>
                        <select id="project_type" name="project_type" required data-custom-select-target="select">
                            <option value="">Sélectionnez un type de projet</option>
                            <option value="site-vitrine">Site vitrine</option>
                            <option value="e-commerce">Site e-commerce</option>
                            <option value="application-web">Application web</option>
                            <option value="refonte">Refonte de site</option>
                            <option value="autre">Autre</option>
                        </select>
                    </div>

                    <div class="form-group" data-controller="custom-select">
                        <label for="budget">Budget estimé *</label>
                        <select id="budget" name="budget" required data-custom-select-target="select">
                            <option value="">Sélectionnez votre budget</option>
                            <option value="moins-1000">Moins de 1 000€</option>
                            <option value="1000-3000">1 000€ - 3 000€</option>
                            <option value="3000-5000">3 000€ - 5 000€</option>
                            <option value="5000-10000">5 000€ - 10 000€</option>
                            <option value="plus-10000">Plus de 10 000€</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" name="message" rows="5" placeholder="Décrivez votre projet en quelques mots..."></textarea>
                    </div>

                    <div class="form-group form-checkbox">
                        <input type="checkbox" id="rgpd" name="rgpd" required>
                        <label for="rgpd">J'accepte les <a href="#">conditions générales de protection des données</a></label>
                    </div>

                    <button type="submit" class="btn-contact-submit">
                        Envoyer ma demande
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                        </svg>
                    </button>

                    <p class="form-note">* Champs obligatoires • Réponse garantie sous 24h</p>
                </form>
                {% endfor %}
            </div>

            <aside class="contact-sidebar swiss-fade-up" data-scroll-animation-target="item" data-delay="300">
                <div class="contact-info-card">
                    <h3 class="contact-info-title">Informations de contact</h3>
                    <p class="contact-info-desc">Vous préférez nous contacter directement ? Utilisez l'un des moyens ci-dessous. Nous sommes là pour répondre à toutes vos questions.</p>

                    <div class="contact-info-item">
                        <div class="contact-info-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                <polyline points="22,6 12,13 2,6"/>
                            </svg>
                        </div>
                        <div class="contact-info-content">
                            <span class="contact-info-label">Email</span>
                            <span class="contact-info-value">contact@webdesignpro.fr</span>
                        </div>
                    </div>

                    <div class="contact-info-item">
                        <div class="contact-info-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                            </svg>
                        </div>
                        <div class="contact-info-content">
                            <span class="contact-info-label">Téléphone</span>
                            <span class="contact-info-value">+33 1 23 45 67 89</span>
                        </div>
                    </div>

                    <div class="contact-info-item">
                        <div class="contact-info-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <polyline points="12 6 12 12 16 14"/>
                            </svg>
                        </div>
                        <div class="contact-info-content">
                            <span class="contact-info-label">Disponibilité</span>
                            <span class="contact-info-value">Lun-Ven : 9h-18h</span>
                        </div>
                    </div>
                </div>

                <div class="contact-social">
                    <span class="contact-social-label">Suivez-nous</span>
                    <div class="contact-social-links">
                        <a href="#" class="contact-social-link" aria-label="LinkedIn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                            </svg>
                        </a>
                        <a href="#" class="contact-social-link" aria-label="Twitter">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                            </svg>
                        </a>
                        <a href="#" class="contact-social-link" aria-label="Instagram">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/>
                            </svg>
                        </a>
                    </div>
                </div>

                <div class="contact-benefits">
                    <div class="contact-benefit-item">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        <span>Devis gratuit et sans engagement</span>
                    </div>
                    <div class="contact-benefit-item">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        <span>Réponse personnalisée sous 24h</span>
                    </div>
                    <div class="contact-benefit-item">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        <span>Premier échange téléphonique offert</span>
                    </div>
                </div>
            </aside>
        </div>

        <div class="legal-terms-summary">
            <p><strong>1. Engagement :</strong> Le présent contrat est conclu pour une durée ferme de 24 mois. Le Client reconnaît que l'abonnement mensuel de maintenance et d'hébergement est indissociable de la création du site et s'engage à le régler par prélèvement automatique.</p>
            <p><strong>2. Résiliation :</strong> En cas de défaut de paiement ou de résiliation anticipée par le Client avant la fin des 24 mois, la totalité des mensualités restantes devient immédiatement exigible. Une indemnité forfaitaire de 150€ sera appliquée pour frais de gestion de dossier contentieux.</p>
            <p><strong>3. Propriété :</strong> Le Prestataire conserve la propriété intellectuelle et technique intégrale du site internet (code source, design, base de données) jusqu'au paiement complet de la 24ème mensualité. En cas d'impayé supérieur à 7 jours, l'accès au site sera suspendu sans préavis.</p>
        </div>
    </section>
</div>
{% endblock %}
